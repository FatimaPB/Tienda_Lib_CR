<div class="p-d-flex p-ai-center p-jc-center" style="height: calc(100vh - 60px); width: 100%; padding: 20px; margin-bottom: 500px;">
  <div class="card" style="width: 100%; margin: auto;">

    <!-- Título de la sección -->
    <h2 class="texto" style="margin-bottom: 20px;">Historial ventas</h2>

  <div *ngIf="usuarioRol">

  <p-table 
  [value]="ventas" 
      [tableStyle]="{ 'min-width': '50rem' }" 
      [paginator]="true" 
      [rows]="5" 
      [rowsPerPageOptions]="[5, 10, 20]" 
      class="p-shadow-2">
  
  <ng-template pTemplate="header">
    <tr>
      <th>ID</th>
      <th>Cliente</th>
      <th>Imagen</th>
      <th>Productos Comprados</th>
      <th>Cantidad</th>
      <th>Precio unitario</th>
       <th>Total</th>
      <th>Método de Pago</th>
      <th>Estado</th>
      <th>Envio</th>
      <th>Fecha</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-venta>
    <tr  >
      <td>{{ venta.id }}</td>
      <td>{{ venta.cliente }}</td>
      <td>
  <ul style="list-style: none; padding-left: 0;">
    <li *ngFor="let producto of venta.productos" style="display: flex; align-items: center; gap: 0.5rem;">
      <img [src]="producto.imagen" alt="{{ producto.nombre }}" width="50" height="50" style="object-fit: cover; border-radius: 4px;" />
    </li>
  </ul>
</td>

      <td>
        <ul style="list-style: none; padding-left: 0;">
          <li *ngFor="let producto of venta.productos">
            {{ producto.nombre }}
          </li>
        </ul>
      </td>
      <td>
        <ul style="list-style: none; padding-left: 0;">
          <li *ngFor="let producto of venta.productos">
            {{ producto.cantidad }}
          </li>
        </ul>
      </td>
      <td>
        <ul style="list-style: none; padding-left: 0;">
          <li *ngFor="let producto of venta.productos">
            ${{ producto.precio_unitario }}
          </li>
        </ul>
      </td>
      <td>${{ venta.total }}</td>
      <td>{{ venta.metodo_pago }}</td>
      <td>{{ venta.estado }}</td>
      <td>{{ venta.estado_envio }}</td>
      <td>{{ venta.fecha | date:'dd/MM/yyyy HH:mm' }}</td>
    </tr>
  </ng-template>
  

</p-table>
</div>
<p *ngIf="!usuarioRol"  class="texto">No tienes permisos para ver esta información.</p>