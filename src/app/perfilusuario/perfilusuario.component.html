<!-- Perfil de Usuario -->
<div class="profile-container" *ngIf="perfil && !showForm">
    <h1 class="section-title">Perfil de Usuario</h1>
    <div class="card profile-card">
        <div class="profile-info">
            <div class="profile-details">
                <p><strong>Nombre:</strong> {{ perfil.nombre }}</p>
                <p><strong>Correo:</strong> {{ perfil.correo }}</p>
                <p><strong>TelÃ©fono:</strong> {{ perfil.telefono }}</p>
                <p><strong>Tipo de Usuario:</strong> {{ perfil.tipoUsuario }}</p>
            </div>
            <div class="profile-actions">
                <button (click)="showForm = true" class="btn btn-edit">âš™ï¸ Editar Perfil</button>
                <button (click)="showPasswordForm = true" class="btn btn-change-password">ğŸ”’ Cambiar ContraseÃ±a</button>
            </div>
        </div>
    </div>
</div>

<!-- Formulario de ediciÃ³n del perfil -->
<div class="profile-container" *ngIf="showForm">
    <h1 class="section-title">Editar Perfil</h1>
    <div class="card form-card">
        <form (ngSubmit)="actualizarPerfil()">
            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input id="nombre" [(ngModel)]="perfil.nombre" name="nombre" class="form-input"  readonly />
            </div>

            <div class="form-group">
                <label for="correo">Correo</label>
                <input id="correo" [(ngModel)]="perfil.correo" name="correo" class="form-input" type="email"  readonly />
            </div>

            <div class="form-group">
                <label for="telefono">TelÃ©fono</label>
                <input id="telefono" [(ngModel)]="perfil.telefono" name="telefono" class="form-input" type="tel" maxlength="10" required />
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-update">Actualizar</button>
                <button type="button" (click)="cancelarEdicion()" class="btn btn-cancel">Cancelar</button>
            </div>
        </form>
    </div>
</div>

<!-- Formulario para cambiar la contraseÃ±a -->
<div class="profile-container" *ngIf="showPasswordForm">
    <h1 class="section-title">Cambiar ContraseÃ±a</h1>
    <div class="card form-card">
        <form (ngSubmit)="cambiarContrasena()">
            <!-- ContraseÃ±a Actual -->
            <div class="form-group">
                <label for="currentPassword">ContraseÃ±a Actual</label>
                <div class="password-wrapper">
                    <input
                        id="currentPassword"
                        [(ngModel)]="passwordData.currentPassword"
                        name="currentPassword"
                        class="form-input"
                        [type]="showCurrentPassword ? 'text' : 'password'"
                        required
                    />
                    <button type="button" class="toggle-visibility" (click)="toggleCurrentPasswordVisibility()">
                        {{ showCurrentPassword ? 'ğŸ‘ï¸' : 'ğŸ™ˆ' }}
                    </button>
                </div>
            </div>

            <!-- Nueva ContraseÃ±a -->
            <div class="form-group">
                <label for="newPassword">Nueva ContraseÃ±a</label>
                <div class="password-wrapper">
                    <input
                        id="newPassword"
                        [(ngModel)]="passwordData.newPassword"
                        name="newPassword"
                        class="form-input"
                        [type]="showNewPassword ? 'text' : 'password'"
                        (input)="checkPasswordStrength()"
                        required
                    />
                    <button type="button" class="toggle-visibility" (click)="toggleNewPasswordVisibility()">
                        {{ showNewPassword ? 'ğŸ‘ï¸' : 'ğŸ™ˆ' }}
                    </button>
                </div>
                <div class="password-strength">
                    Fortaleza: {{ passwordStrength }}
                </div>
            </div>

            <!-- Confirmar Nueva ContraseÃ±a -->
            <div class="form-group">
                <label for="confirmNewPassword">Confirmar Nueva ContraseÃ±a</label>
                <div class="password-wrapper">
                    <input
                        id="confirmNewPassword"
                        [(ngModel)]="passwordData.confirmNewPassword"
                        name="confirmNewPassword"
                        class="form-input"
                        [type]="showConfirmPassword ? 'text' : 'password'"
                        required
                    />
                    <button type="button" class="toggle-visibility" (click)="toggleConfirmPasswordVisibility()">
                        {{ showConfirmPassword ? 'ğŸ‘ï¸' : 'ğŸ™ˆ' }}
                    </button>
                </div>
            </div>

            <!-- Botones de acciÃ³n -->
            <div class="form-actions">
                <button type="submit" class="btn btn-update">Actualizar ContraseÃ±a</button>
                <button type="button" (click)="cancelarCambioContrasena()" class="btn btn-cancel">Cancelar</button>
            </div>
        </form>
    </div>
</div>



<div class="toast success-toast" *ngIf="successMessage">{{ successMessage }}</div>
<div class="toast error-toast" *ngIf="errorMessage">{{ errorMessage }}</div>