<div class="register-container">
  <h2>Registro de Usuario</h2>

  <form (ngSubmit)="onRegister(registerForm)" #registerForm="ngForm">
    <!-- Campo de Nombre -->
    <div class="form-group">
      <label for="name">Nombre</label>
      <input
        type="text"
        id="name"
        name="name"
        ngModel
        required
        class="form-control"
        placeholder="Ingresa tu nombre"
      />
      <small *ngIf="!registerForm.controls['name']?.valid && registerForm.controls['name']?.touched" class="error-message">El nombre es obligatorio</small>
    </div>

    <!-- Campo de Correo ElectrÃ³nico -->
    <div class="form-group">
      <label for="email">Correo ElectrÃ³nico</label>
      <input
        type="email"
        id="email"
        name="email"
        ngModel
        required
        class="form-control"
        placeholder="Ingresa tu correo"
      />
      <small *ngIf="!registerForm.controls['email']?.valid && registerForm.controls['email']?.touched" class="error-message">Correo invÃ¡lido</small>
    </div>

    <!-- Campo de ContraseÃ±a -->
    <div class="form-group">
      <label for="password">ContraseÃ±a</label>
      <div class="password-wrapper">
        <input
          [type]="isPasswordVisible ? 'text' : 'password'" 
          id="password"
          name="password"
          #password
          ngModel
          required
          (input)="checkPasswordStrength(password.value)"
          class="form-control"
          placeholder="Ingresa tu contraseÃ±a"
        />
        <span 
          class="eye-icon" 
          (click)="togglePasswordVisibility()"
          [class.visible]="isPasswordVisible">ğŸ‘ï¸</span> <!-- Ãcono de ojo -->
      </div>
      <small *ngIf="!registerForm.controls['password']?.valid && registerForm.controls['password']?.touched" class="error-message">La contraseÃ±a es obligatoria</small>
      <div class="password-strength">
        <div class="strength-bar" [ngClass]="passwordStrengthClass"></div>
        <span>{{ passwordStrengthMessage }}</span>
      </div>
    </div>

    <!-- Campo de Confirmar ContraseÃ±a -->
    <div class="form-group">
      <label for="confirmPassword">Confirmar ContraseÃ±a</label>
      <div class="password-wrapper">
        <input
          [type]="isConfirmPasswordVisible ? 'text' : 'password'" 
          id="confirmPassword"
          name="confirmPassword"
          #confirmPassword
          ngModel
          required
          class="form-control"
          placeholder="Confirma tu contraseÃ±a"
        />
        <span 
          class="eye-icon" 
          (click)="toggleConfirmPasswordVisibility()"
          [class.visible]="isConfirmPasswordVisible">ğŸ‘ï¸</span> <!-- Ãcono de ojo -->
      </div>
      <small *ngIf="!registerForm.controls['confirmPassword']?.valid && registerForm.controls['confirmPassword']?.touched" class="error-message">La confirmaciÃ³n de la contraseÃ±a es obligatoria</small>
      <small *ngIf="passwordMismatch" class="error-message">Las contraseÃ±as no coinciden</small>
    </div>

    <!-- Campo de NÃºmero de TelÃ©fono -->
    <div class="form-group">
      <label for="phone">NÃºmero de TelÃ©fono</label>
      <input
        type="tel"
        id="phone"
        name="phone"
        ngModel
        required
        pattern="[0-9]{10}"
        class="form-control"
        placeholder="Ingresa tu nÃºmero de telÃ©fono"
        (keypress)="preventLetters($event)"
      />
      <small *ngIf="!registerForm.controls['phone']?.valid && registerForm.controls['phone']?.touched" class="error-message">El telÃ©fono debe tener 10 nÃºmeros</small>
    </div>
    

    <!-- BotÃ³n de Registrarse -->
    <button type="submit" class="btn" [disabled]="!registerForm.valid">Registrarse</button>

    <!-- Enlace para ir a iniciar sesiÃ³n -->
    <p class="login-link">Â¿Ya tienes cuenta? <a href="#" routerLink="/login">Inicia sesiÃ³n aquÃ­</a></p>
  </form>

  <!-- Toast de Ã©xito -->
  <div class="toast success-toast" *ngIf="successMessage">{{ successMessage }}</div>

  <!-- Toast de error -->
  <div class="toast error-toast" *ngIf="errorMessage">{{ errorMessage }}</div>
</div>
